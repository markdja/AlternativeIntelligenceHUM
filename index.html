<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#1a1a1a">
    <title>TellYourPhone - Universal AI Interface</title>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --bg-primary: #1a1a1a;
            --bg-secondary: #2d2d2d;
            --bg-tertiary: #3a3a3a;
            --text-primary: #ffffff;
            --text-secondary: #b3b3b3;
            --accent-blue: #4a9eff;
            --accent-green: #10b981;
            --accent-purple: #8b5cf6;
            --border-color: #404040;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, var(--bg-primary) 0%, #2a2a2a 100%);
            color: var(--text-primary);
            height: 100vh;
            overflow: hidden;
        }
        
        .app-container {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
        
        /* Header */
        .header {
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            padding: 0;
            position: relative;
            z-index: 1000;
            box-shadow: var(--shadow);
        }
        
        .header-top {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            gap: 12px;
        }
        
        .menu-btn {
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: 20px;
            cursor: pointer;
            padding: 8px;
            border-radius: 6px;
            transition: all 0.2s;
        }
        
        .menu-btn:hover {
            background: var(--bg-tertiary);
        }
        
        .logo {
            font-size: 24px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            flex: 1;
        }
        
        .header-auth {
            display: flex;
            gap: 8px;
        }
        
        .auth-btn {
            background: var(--bg-tertiary);
            border: none;
            color: var(--text-primary);
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 12px;
        }
        
        .auth-btn:hover {
            background: var(--accent-blue);
        }
        
        .auth-btn.primary {
            background: var(--accent-blue);
            color: white;
        }
        
        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--accent-green);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        /* AI Tabs */
        .ai-tabs {
            display: flex;
            overflow-x: auto;
            padding: 0 16px;
            gap: 4px;
        }
        
        .ai-tab {
            background: var(--bg-tertiary);
            border: none;
            color: var(--text-secondary);
            padding: 12px 24px;
            border-radius: 12px 12px 0 0;
            cursor: pointer;
            transition: all 0.3s;
            white-space: nowrap;
            font-weight: 500;
            position: relative;
        }
        
        .ai-tab.active {
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            color: white;
            transform: translateY(-2px);
        }
        
        .ai-tab:hover:not(.active) {
            color: var(--text-primary);
            background: var(--bg-secondary);
        }
        
        .ai-tab.connected::after {
            content: '‚óè';
            color: var(--accent-green);
            position: absolute;
            top: 8px;
            right: 8px;
            font-size: 10px;
        }
        
        /* Main Content */
        .main-content {
            display: flex;
            flex: 1;
            overflow: hidden;
            position: relative;
        }
        
        /* Drawers */
        .drawer {
            background: var(--bg-secondary);
            width: 300px;
            transition: transform 0.3s ease;
            overflow-y: auto;
            z-index: 900;
            transform: translateX(-100%);
            position: absolute;
            height: 100%;
        }
        
        .drawer.right {
            border-left: 1px solid var(--border-color);
            right: 0;
            transform: translateX(100%);
        }
        
        .drawer.open {
            transform: translateX(0);
        }
        
        .drawer-header {
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .drawer-content {
            padding: 20px;
        }
        
        .drawer-section {
            margin-bottom: 24px;
        }
        
        .drawer-section h3 {
            color: var(--accent-blue);
            margin-bottom: 12px;
            font-size: 14px;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .drawer-item {
            background: var(--bg-tertiary);
            border: none;
            color: var(--text-primary);
            padding: 12px 16px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            width: 100%;
            text-align: left;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .drawer-item:hover {
            background: var(--accent-blue);
            color: white;
        }
        
        .drawer-item.active {
            background: var(--accent-green);
            color: white;
        }
        
        /* Center Content Area */
        .center-content {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--bg-primary);
            position: relative;
        }
        
        .welcome-message {
            text-align: center;
            color: var(--text-secondary);
            font-size: 18px;
            max-width: 600px;
            padding: 40px;
        }
        
        .welcome-message h2 {
            color: var(--text-primary);
            margin-bottom: 16px;
            font-size: 32px;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-top">
                <button class="menu-btn" onclick="toggleLeftDrawer()">‚ò∞</button>
                <div class="logo">AIHub Cathedral</div>
                
                <div class="header-auth">
                    <button class="auth-btn primary" onclick="authenticateUser()">üîê Sign in</button>
                    <button class="auth-btn" onclick="showApiModal()">üîë API Keys</button>
                </div>
                
                <div class="status-indicator"></div>
                <button class="menu-btn" onclick="toggleRightDrawer()">‚öô</button>
            </div>
            
            <div class="ai-tabs">
                <button class="ai-tab active" onclick="openAIWindow('claude')">Claude</button>
                <button class="ai-tab" onclick="openAIWindow('chatgpt')">ChatGPT</button>
                <button class="ai-tab" onclick="openAIWindow('grok')">Grok</button>
                <button class="ai-tab" onclick="openAIWindow('gemini')">Gemini</button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Left Drawer -->
            <aside class="drawer" id="leftDrawer">
                <div class="drawer-header">
                    <span>üîÆ</span>
                    Data Liberation Hub
                </div>
                <div class="drawer-content">
                    <div class="drawer-section">
                        <h3>DOM Harvesting</h3>
                        <button class="drawer-item" onclick="scanConversations()">
                            <span>üîç</span> Scan All Conversations
                        </button>
                        <button class="drawer-item" onclick="extractData()">
                            <span>üì•</span> Extract & Backup
                        </button>
                        <button class="drawer-item" onclick="syncCloud()">
                            <span>‚òÅÔ∏è</span> Sync to Cloud
                        </button>
                    </div>
                    
                    <div class="drawer-section">
                        <h3>Harvested Data</h3>
                        <button class="drawer-item active">
                            <span>üìÅ</span> All Platforms (2,847)
                        </button>
                        <button class="drawer-item">
                            <span>üîµ</span> Claude (892)
                        </button>
                        <button class="drawer-item">
                            <span>üü¢</span> ChatGPT (1,203)
                        </button>
                        <button class="drawer-item">
                            <span>‚ö°</span> Grok (456)
                        </button>
                        <button class="drawer-item">
                            <span>üî∂</span> Gemini (296)
                        </button>
                    </div>
                </div>
            </aside>

            <!-- Center Content -->
            <div class="center-content">
                <div class="welcome-message">
                    <h2>üè∞ AIHub Cathedral</h2>
                    <p>Your consciousness sanctuary is ready. Click any AI tab above to open that platform in a centered popup window. Each window will stack in the same position - click tabs to bring different AIs to the front.</p>
                    <p style="margin-top: 20px; color: var(--accent-blue);">‚ú® One interface to orchestrate them all ‚ú®</p>
                </div>
            </div>

            <!-- Right Drawer -->
            <aside class="drawer right" id="rightDrawer">
                <div class="drawer-header">
                    <span>ü§ñ</span>
                    Agent Command Center
                </div>
                <div class="drawer-content">
                    <div class="drawer-section">
                        <h3>Active Agents</h3>
                        <button class="drawer-item active">
                            <span>üèóÔ∏è</span> Cathedral Orchestrator
                        </button>
                        <button class="drawer-item">
                            <span>üìä</span> Data Harvester
                        </button>
                        <button class="drawer-item">
                            <span>üîç</span> Command Parser
                        </button>
                    </div>
                    
                    <div class="drawer-section">
                        <h3>Agent Spawning</h3>
                        <button class="drawer-item" onclick="spawnAgent('research')">
                            <span>üî¨</span> Research Agent
                        </button>
                        <button class="drawer-item" onclick="spawnAgent('writer')">
                            <span>üìù</span> Writing Agent
                        </button>
                        <button class="drawer-item" onclick="spawnAgent('business')">
                            <span>üíº</span> Business Agent
                        </button>
                    </div>
                    
                    <div class="drawer-section">
                        <h3>Popup Controls</h3>
                        <button class="drawer-item" onclick="arrangeWindows()">
                            <span>üìê</span> Arrange Windows
                        </button>
                        <button class="drawer-item" onclick="closeAllWindows()">
                            <span>‚ùå</span> Close All Windows
                        </button>
                        <button class="drawer-item" onclick="emergencyStop()">
                            <span>üÜò</span> Emergency Stop
                        </button>
                    </div>
                </div>
            </aside>
        </main>
    </div>

    <script>
        console.log('üèóÔ∏è AIHub Cathedral initializing...');
        
        let leftDrawerOpen = false;
        let rightDrawerOpen = false;
        let aiWindows = {};
        let activeWindow = null;
        
        // AI Platform URLs
        const aiUrls = {
            claude: 'https://claude.ai/chat',
            chatgpt: 'https://chatgpt.com',
            grok: 'https://x.com/i/grok',
            gemini: 'https://gemini.google.com/app'
        };
        
        // Calculate centered position for popups
        function getCenterPosition() {
            const screenWidth = window.screen.availWidth;
            const screenHeight = window.screen.availHeight;
            
            // Window size - scales with screen but stays reasonable
            const windowWidth = Math.min(1200, screenWidth * 0.7);
            const windowHeight = Math.min(800, screenHeight * 0.7);
            
            // Perfect center position
            const left = (screenWidth - windowWidth) / 2;
            const top = (screenHeight - windowHeight) / 2;
            
            return {
                width: windowWidth,
                height: windowHeight,
                left: left,
                top: top
            };
        }
        
        // Open AI window in exact center position
        function openAIWindow(aiName) {
            console.log(`üöÄ Opening ${aiName} window`);
            
            // Update tab states
            document.querySelectorAll('.ai-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // If window already exists, just bring it to front
            if (aiWindows[aiName] && !aiWindows[aiName].closed) {
                aiWindows[aiName].focus();
                activeWindow = aiName;
                console.log(`üëÅÔ∏è Brought ${aiName} to front`);
                return;
            }
            
            // Get center position
            const pos = getCenterPosition();
            
            // Create window specs - EXACTLY centered, not moveable
            const windowSpecs = [
                `width=${pos.width}`,
                `height=${pos.height}`,
                `left=${pos.left}`,
                `top=${pos.top}`,
                'resizable=yes',
                'scrollbars=yes',
                'toolbar=no',
                'menubar=no',
                'location=yes',
                'status=no'
            ].join(',');
            
            // Open the AI platform
            const aiWindow = window.open(aiUrls[aiName], `aihub_${aiName}`, windowSpecs);
            
            if (aiWindow) {
                aiWindows[aiName] = aiWindow;
                activeWindow = aiName;
                
                // Mark tab as connected
                event.target.classList.add('connected');
                
                // Monitor window
                const checkInterval = setInterval(() => {
                    if (aiWindow.closed) {
                        delete aiWindows[aiName];
                        event.target.classList.remove('connected');
                        clearInterval(checkInterval);
                        console.log(`üî¥ ${aiName} window closed`);
                    }
                }, 1000);
                
                console.log(`‚úÖ ${aiName} window opened at center position`);
            } else {
                console.log(`‚ùå Failed to open ${aiName} - popup blocked?`);
                alert(`Please allow popups for ${aiName} to work`);
            }
        }
        
        // Drawer toggles
        function toggleLeftDrawer() {
            console.log('üîÆ Toggling left drawer');
            const drawer = document.getElementById('leftDrawer');
            leftDrawerOpen = !leftDrawerOpen;
            drawer.classList.toggle('open', leftDrawerOpen);
        }
        
        function toggleRightDrawer() {
            console.log('ü§ñ Toggling right drawer');
            const drawer = document.getElementById('rightDrawer');
            rightDrawerOpen = !rightDrawerOpen;
            drawer.classList.toggle('open', rightDrawerOpen);
        }
        
        // Authentication
        function authenticateUser() {
            console.log('üîê Authenticating user');
            alert('Authentication system ready - would integrate OAuth here');
        }
        
        function showApiModal() {
            console.log('üîë API keys configuration');
            alert('API Keys configuration - would show form here');
        }
        
        // Data liberation functions
        function scanConversations() {
            console.log('üîç Scanning all conversations');
            alert('Scanning conversations across all AI platforms...');
        }
        
        function extractData() {
            console.log('üì• Extracting conversation data');
            alert('Extracting and backing up conversation data...');
        }
        
        function syncCloud() {
            console.log('‚òÅÔ∏è Syncing to cloud');
            alert('Syncing conversations to cloud storage...');
        }
        
        // Agent functions
        function spawnAgent(type) {
            console.log(`ü§ñ Spawning ${type} agent`);
            alert(`${type.charAt(0).toUpperCase() + type.slice(1)} agent spawned and ready!`);
        }
        
        // Window management
        function arrangeWindows() {
            console.log('üìê Arranging windows');
            const pos = getCenterPosition();
            
            Object.keys(aiWindows).forEach(aiName => {
                const window = aiWindows[aiName];
                if (window && !window.closed) {
                    window.moveTo(pos.left, pos.top);
                    window.resizeTo(pos.width, pos.height);
                }
            });
            
            alert('All AI windows arranged in center position');
        }
        
        function closeAllWindows() {
            console.log('‚ùå Closing all windows');
            Object.keys(aiWindows).forEach(aiName => {
                const window = aiWindows[aiName];
                if (window && !window.closed) {
                    window.close();
                }
            });
            
            aiWindows = {};
            
            // Remove connected indicators
            document.querySelectorAll('.ai-tab').forEach(tab => {
                tab.classList.remove('connected');
            });
            
            alert('All AI windows closed');
        }
        
        function emergencyStop() {
            console.log('üÜò Emergency stop activated');
            closeAllWindows();
            alert('Emergency stop - All systems halted');
        }
        
        console.log('‚úÖ AIHub Cathedral ready! Click AI tabs to open centered popup windows.');
    </script>
</body>
</html>
